/*
**  ComponentJS -- Component System for JavaScript <http://componentjs.com>
**  Copyright (c) 2009-2016 Ralf S. Engelschall <http://engelschall.com>
**
**  This Source Code Form is subject to the terms of the Mozilla Public
**  License (MPL), version 2.0. If a copy of the MPL was not distributed
**  with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
*/
/*
 *  This is a small ComponentJS plugin which adds some ExtJS-specific
 *  functionality to the otherwise fully UI toolkit independent ComponentJS
 *  core framework.
 */
/* global ComponentJS: false */
/* eslint no-unused-vars: 0 */
/* jshint unused: false */
ComponentJS.plugin("extjs",function(a,b,c){/*
     *  SPECIALIZED EXTJS SOCKET SUPPORT
     */
/*  define the extra trait for components  */
var d=b.trait({protos:{socket:function(){/*  determine parameters  */
var c=b.params("socket",arguments,{name:{def:"default"},scope:{def:null},ctx:{pos:0,req:!0},plug:{pos:1,def:null},/*  removed "req: true"  */
unplug:{pos:2,def:null},/*  removed "req: true"  */
spool:{def:null},type:{def:"default"}}),d=a.extend({},c);/*  pass-through execution to original/base method  */
/*  optionally change behaviour  */
/*  provide specialized ExtJS socket functionality  */
return delete d.type,"extjs"===c.type&&(d.plug=function(a){this.add(a)},d.unplug=function(a){this.remove(a)}),this.base(d)}}});/*  mixin this trait to all components  */
a.latch("ComponentJS:bootstrap:comp:mixin",function(a){a.push(d)})});