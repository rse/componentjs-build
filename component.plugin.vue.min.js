var isjQuery=function(a){return"object"==typeof a&&"string"==typeof a.jquery&&null!==a.jquery.match(/^[0-9]+(?:\.[0-9]+)+$/)},isVue=function(a){return"object"==typeof a&&"boolean"==typeof a._isVue&&a._isVue===!0};ComponentJS.plugin("vue",function(a,b,c){var d=b.trait({protos:{vue:function(){var c=this,d=b.params("vue",arguments,{options:{pos:0,req:{}},spool:{pos:1,def:null}});if(void 0===d.options.template&&void 0===d.options.render)throw a.exception("vue",'missing mandatory Vue options "template" or "render"');if(void 0!==d.options.template&&(isjQuery(d.options.template)&&(d.options.template=d.options.template.get(0)),"string"==typeof d.options.template)){for(;;){var e=d.options.template.replace(/^\s*<!--.*?-->\s*/,"");if(d.options.template===e)break;d.options.template=e}d.options.template=d.options.template.replace(/^\s+/,"").replace(/\s+$/,"")}for(var f,g,h={},i=this;null!==i&&(f=i.property({name:"ComponentJS:model",returnowner:!0}),a.isdefined(f));){g=f.property("ComponentJS:model"),i=f.parent();for(var j in g.data)h[j]=f}var k=Object.keys(h);if(0===k.length)throw a.exception("vue","no models values found at all");"object"!=typeof d.options.data&&(d.options.data={}),"object"!=typeof d.options.computed&&(d.options.computed={}),"object"!=typeof d.options.methods&&(d.options.methods={});var l="ComponentJS_trigger_";a.foreach(k,function(a){var e=a.replace(/[^a-zA-Z0-9_$]+/g,"_");e.match(/^event.+$/)?d.options.methods[e]=function(d){b(c).value(a,"object"==typeof d&&d instanceof Event||d)}:(d.options.data[l+e]=0,d.options.computed[e]={get:function(){return this[l+e],b(c).value(a)},set:function(d){this[l+e]++,b(c).value(a,d)}})});var m=c.obj();if(null!==m)for(var n=a.state_methods(),o=m;null!==o;o=Object.getPrototypeOf(o)){var p=Object.getOwnPropertyNames(o);a.foreach(p,function(a){void 0===n[a]&&"function"==typeof o[a]&&a.match(/^util.+$/)&&(d.options.methods[a]=function(){return m[a].apply(m,arguments)})})}d.options.beforeDestroy=function(){a.foreach(this.__ComponentJS.observers,function(a){b(c).unobserve(a)}),a.foreach(this.__ComponentJS.sockets,function(a){b(c).unsocket(a)})};var q=new Vue(d.options);q.$mount(),q.__ComponentJS={observers:[],sockets:[]},a.foreach(k,function(d){var e=d.replace(/[^a-zA-Z0-9_$]+/g,"_"),f=function(){q[l+e]++};a.foreach(["set","splice","delete"],function(a){var e=b(c).observe({name:d,op:a,func:f});q.__ComponentJS.observers.push(e)})});var r=function(a){var d=a.getAttribute("data-socket"),e="",f=d.match(/^(.*)@(.+)$/);null!==f&&(d=f[1],e=f[2]);var g={ctx:a};""!==d&&(g.name=d),""!==e&&(g.scope=e);var h=b(c).socket(g);q.__ComponentJS.sockets.push(h)};q.$el.hasAttribute("data-socket")&&r(q.$el);for(var s=q.$el.querySelectorAll("*[data-socket]"),t=0;t<s.length;t++)r(s[t]);if(null!==d.spool){var u=a.spool_spec_parse(this,d.spool);u.comp.spool(u.name,this,function(a){a.$destroy()},q)}return q},unvue:function(c){var d=b.params("unvue",arguments,{vm:{pos:0,req:null}});if(!isVue(d.vm))throw a.exception("unvue","invalid Vue instance");d.vm.$destroy()},socket:function(){var a=b.params("socket",arguments,{name:{def:"default"},scope:{def:null},ctx:{pos:0,req:!0},plug:{pos:1,def:null},unplug:{pos:2,def:null},spool:{def:null}});return null===a.plug&&(a.plug=function(a){isjQuery(a)?a=a.get(0):isVue(a)&&(a=a.$el),isjQuery(this)?this.append(a):this.appendChild(a)}),null===a.unplug&&(a.unplug=function(a){if(isjQuery(a))a.detach();else{isVue(a)&&(a=a.$el);var b=a.parentElement;null!==b&&b.removeChild(a)}}),this.base(a)}}});a.latch("ComponentJS:bootstrap:comp:mixin",function(a){a.push(d)})});